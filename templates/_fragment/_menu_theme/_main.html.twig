{# Application navigation #}
{% block application %}
    {% set application_menu_links %}
        {% for menu_child in menu_type.children %}
            {% with {'menu_type': menu_child} %}
                {{ block(menu_child.templateBlock, menu_theme) }}
            {% endwith %}
        {% endfor %}
    {% endset %}

    <div class="list-group list-group-horizontal d-none d-md-flex">
        {{ application_menu_links }}
    </div>

    <div class="list-group list-group d-md-none">
        {{ application_menu_links }}
    </div>
{% endblock %}

{% block application_item %}
    {% set application_item_disabled = menu_type.url == '#' %}

    <a {% if not application_item_disabled %} href="{{ menu_type.url }}" {% endif %} class="list-group-item w-100 {% if menu_type.active %} active {% endif %} {% if application_item_disabled %} disabled {% endif %}">
        {{ menu_type.text }}
    </a>
{% endblock %}

{# User navigation #}
{% block navbar_user %}
    <ul class="navbar-nav ml-auto">
        {% for menu_child in menu_type.children %}
            {% with {'menu_type': menu_child} %}
                {{ block(menu_child.templateBlock, menu_theme) }}
            {% endwith %}
        {% endfor %}
    </ul>
{% endblock %}

{% block navbar_user_item %}
    {% set _has_children = menu_type.children is not empty %}

    <li class="nav-item {% if menu_type.active %} active {% endif %} {% if _has_children %} dropdown {% endif %}">
        <a class="nav-link {% if _has_children %} dropdown-toggle {% endif %}" href="{{ menu_type.url }}" {% if _has_children %} data-toggle="dropdown" aria-expanded="false" {% endif %}>
            {{ menu_type.text }}
        </a>

        {% if _has_children %}
            <div class="dropdown-menu">
                {% for menu_child in menu_type.children %}
                    {% with {'menu_type': menu_child} %}
                        {{ block(menu_child.templateBlock, menu_theme) }}
                    {% endwith %}
                {% endfor %}
            </div>
        {% endif %}
    </li>
{% endblock %}

{% block navbar_user_dropdown_item %}
    <a class="dropdown-item {% if menu_type.active %} active {% endif %}" href="{{ menu_type.url }}">{{ menu_type.text }}</a>
{% endblock %}

{# Profile navigation #}
{% block navbar_user_profile %}
    <ul class="nav nav-tabs">
        {% for menu_child in menu_type.children %}
            {% with {'menu_type': menu_child} %}
                {{ block(menu_child.templateBlock, menu_theme) }}
            {% endwith %}
        {% endfor %}
    </ul>
{% endblock %}

{% block navbar_user_profile_item %}
    <li class="nav-item">
        <a class="nav-link {% if menu_type.active %} active {% endif %}" href="{{ menu_type.url }}">
            {{ menu_type.text }}
        </a>
    </li>
{% endblock %}

{# Pagination #}
{% block pagination_root %}
    <ul class="pagination pagination-sm m-0">
        {% for menu_child in menu_type.children %}
            {% with {'menu_type': menu_child} %}
                {{ block(menu_child.templateBlock, menu_theme) }}
            {% endwith %}
        {% endfor %}
    </ul>
{% endblock %}

{% block pagination_item %}
    {% if menu_type.identifier starts with 'divider' %}
        <li class="page-item disabled p-1">
            ...
        </li>
    {% else %}
        <li class="page-item{% if menu_type.active %} active{% endif %}">
            <a class="page-link" href="{{ menu_type.url }}">
                {{ menu_type.text }}
            </a>
        </li>
    {% endif %}
{% endblock %}

{# Breadcrumbs #}
{% block breadcrumbs %}
    <ol class="breadcrumb">
        {% for menu_child in menu_type.children %}
            {% with {'menu_type': menu_child} %}
                {{ block(menu_child.templateBlock, menu_theme) }}
            {% endwith %}
        {% endfor %}
    </ol>
{% endblock %}

{% block breadcrumb %}
    <li class="breadcrumb-item{% if menu_type.active %} active{% endif %}">
        {% if menu_type.active %}
            {{ menu_type.text }}
        {% else %}
            <a href="{{ menu_type.url }}">{{ menu_type.text }}</a>
        {% endif %}
    </li>
{% endblock %}

{# Locale switch #}
{% block locale_switch_root %}
    <ul>
        {% for menu_child in menu_type.children %}
            {% with {'menu_type': menu_child} %}
                {{ block(menu_child.templateBlock, menu_theme) }}
            {% endwith %}
        {% endfor %}
    </ul>
{% endblock %}

{% block locale_switch_item %}
    <li>
        <a href="{{ menu_type.url }}"{% if menu_type.active %} class="active"{% endif %}>
            {{ menu_type.text }}
        </a>

        {% if menu_type.children is not empty %}
            <ul>
                {% for menu_child in menu_type.children %}
                    {% with {'menu_type': menu_child} %}
                        {{ block(menu_child.templateBlock, menu_theme) }}
                    {% endwith %}
                {% endfor %}
            </ul>
        {% endif %}
    </li>
{% endblock %}

{# Admin vertical navigation #}
{% block navbar_admin_vertical_root %}
    <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
        {% for menu_child in menu_type.children %}
            {% with {'menu_type': menu_child} %}
                {{ block(menu_child.templateBlock, menu_theme) }}
            {% endwith %}
        {% endfor %}
    </ul>
{% endblock %}

{% block navbar_admin_vertical_item %}
    <li class="nav-item">
        <a href="{{ menu_type.url }}" class="nav-link{% if menu_type.active %} active{% endif %}">
            {% if menu_type.icon is not null %}
                <i class="nav-icon {{ menu_type.icon }}"></i>
            {% endif %}

            <p>
                {{ menu_type.text }}
                {% if menu_type.children is not empty %}
                    <i class="right fas fa-angle-left"></i>
                {% endif %}
            </p>
        </a>

        {% if menu_type.children is not empty %}
            <ul class="nav nav-treeview">
                {% for menu_child in menu_type.children %}
                    {% with {'menu_type': menu_child} %}
                        {{ block(menu_child.templateBlock, menu_theme) }}
                    {% endwith %}
                {% endfor %}
            </ul>
        {% endif %}
    </li>
{% endblock %}

{# Admin horizontal navigation #}
{% block navbar_admin_horizontal_root %}
    <ul class="navbar-nav ml-auto">
        {% for menu_child in menu_type.children %}
            {% with {'menu_type': menu_child} %}
                {{ block(menu_child.templateBlock, menu_theme) }}
            {% endwith %}
        {% endfor %}
    </ul>
{% endblock %}

{% block navbar_admin_horizontal_item %}
    {% set _has_children = menu_type.children is not empty %}

    <li class="nav-item {% if _has_children %}dropdown{% endif %}">
        <a class="nav-link {% if _has_children %}dropdown-toggle{% endif %}" href="{{ menu_type.url }}" {% if _has_children %}data-toggle="dropdown" aria-expanded="false"{% endif %}>
            {{ menu_type.text }}
        </a>

        {% if _has_children %}
            <ul class="dropdown-menu border-0 shadow">
                {% for menu_child in menu_type.children %}
                    {% with {'menu_type': menu_child} %}
                        {{ block(menu_child.templateBlock, menu_theme) }}
                    {% endwith %}
                {% endfor %}
            </ul>
        {% endif %}
    </li>
{% endblock %}

{# Admin navbar camp update #}
{% block navbar_admin_camp_update_root %}
    <ul class="nav nav-tabs" role="tablist">
        {% for menu_child in menu_type.children %}
            {% with {'menu_type': menu_child} %}
                {{ block(menu_child.templateBlock, menu_theme) }}
            {% endwith %}
        {% endfor %}
    </ul>
{% endblock %}

{% block navbar_admin_camp_update_item %}
    <li class="nav-item">
        <a class="nav-link{% if menu_type.active %} active{% endif %}" href="{{ menu_type.url }}" role="tab" aria-selected="{% if menu_type.active %}true{% else %}false{% endif %}">
            {{ menu_type.text }}
        </a>
    </li>
{% endblock %}